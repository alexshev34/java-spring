<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity5"
>
<head>
  <meta charset="UTF-8">
  <title>Title</title>
  <link th:href="@{/bootstrap/css/bootstrap.min.css}"
        rel="stylesheet" media="screen"/>
  <script th:src="@{/jquery/jquery.min.js}"></script>
  <script th:src="@{/popper/popper.min.js}"></script>
  <script th:src="@{/bootstrap/js/bootstrap.min.js}"></script>   </head>
<body>
<th:block th:include="/menu"></th:block>

<div class="container">
  <div class="row">
    <div class="col-sm-9 col-md-7 col-lg-5 mx-auto">
      <div class="card card-signin my-5">
        <div class="card-body">
          <h5 class="card-title text-center" th:text = "Войти"></h5>
          <form class="form-signin" name='f' th:action="@{/login}" method='POST'>
            <div class="form-label-group">
              <label for="login" th:text ="Логин"></label>
              <input type="text" id="login" name='username' class="form-control" placeholder="login" required="required"
                     autofocus="autofocus"></input>
            </div>

            <div class="form-label-group">
              <label for="password" th:text ="Пароль">></label>
              <input type="password" id="password"   name='password' class="form-control" placeholder="Password"
                     required="required"></input>
            </div>

            <button class="btn btn-lg btn-primary btn-block text-uppercase mt-2" type="submit" th:text = "Войти"></button>
            <a class="btn btn-lg btn-primary btn-block text-uppercase" th:href="@{/registration}" th:text="Регистрация"></a>
          </form>
          <div th:if="${#request.getParameter('error') == 'true'}"
               style="color:red;margin:10px 0px;">
            Login Failed!!!<br />
            Reason :
            <span th:if="${#session!= null and #session.getAttribute('SPRING_SECURITY_LAST_EXCEPTION') != null}"
                  th:utext="${#session.getAttribute('SPRING_SECURITY_LAST_EXCEPTION').message}">
                                    Static summary
                                </span>

          </div>
        </div>
      </div>
    </div>
  </div>
</div>
</body>